[gd_scene load_steps=28 format=2]

[ext_resource path="res://scripts/Player.gd" type="Script" id=1]
[ext_resource path="res://res/player_jump.tres" type="Texture" id=2]
[ext_resource path="res://res/player_idle.tres" type="Texture" id=3]
[ext_resource path="res://res/player_run.tres" type="Texture" id=4]
[ext_resource path="res://res/player_death.tres" type="Texture" id=5]
[ext_resource path="res://res/inverted_colors.tres" type="Material" id=6]
[ext_resource path="res://scripts/HUD.gd" type="Script" id=7]
[ext_resource path="res://assets/fonts/Glossy Sheen Shine DEMO.ttf" type="DynamicFontData" id=8]

[sub_resource type="RectangleShape2D" id=21]
extents = Vector2( 11, 28.5 )

[sub_resource type="RectangleShape2D" id=22]
extents = Vector2( 12.5, 27.5 )

[sub_resource type="RectangleShape2D" id=23]
extents = Vector2( 23, 28.5 )

[sub_resource type="Shader" id=27]
code = "shader_type canvas_item;

void fragment() {
}"

[sub_resource type="ShaderMaterial" id=28]
shader = SubResource( 27 )

[sub_resource type="DynamicFont" id=25]
size = 36
font_data = ExtResource( 8 )

[sub_resource type="Theme" id=26]
default_font = SubResource( 25 )

[sub_resource type="AtlasTexture" id=19]
atlas = ExtResource( 2 )
region = Rect2( 64, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=20]
atlas = ExtResource( 2 )
region = Rect2( 0, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=11]
atlas = ExtResource( 4 )
region = Rect2( 0, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=12]
atlas = ExtResource( 4 )
region = Rect2( 64, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=13]
atlas = ExtResource( 4 )
region = Rect2( 128, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=14]
atlas = ExtResource( 4 )
region = Rect2( 192, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=15]
atlas = ExtResource( 4 )
region = Rect2( 256, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=16]
atlas = ExtResource( 4 )
region = Rect2( 320, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=17]
atlas = ExtResource( 4 )
region = Rect2( 384, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=18]
atlas = ExtResource( 4 )
region = Rect2( 448, 0, 64, 64 )

[sub_resource type="SpriteFrames" id=10]
animations = [ {
"frames": [ ExtResource( 5 ) ],
"loop": true,
"name": "die",
"speed": 5.0
}, {
"frames": [ SubResource( 19 ) ],
"loop": false,
"name": "fall",
"speed": 0.0
}, {
"frames": [ ExtResource( 3 ) ],
"loop": false,
"name": "idle",
"speed": 0.0
}, {
"frames": [ SubResource( 20 ) ],
"loop": false,
"name": "jump",
"speed": 0.0
}, {
"frames": [ SubResource( 11 ), SubResource( 12 ), SubResource( 13 ), SubResource( 14 ), SubResource( 15 ), SubResource( 16 ), SubResource( 17 ), SubResource( 18 ) ],
"loop": true,
"name": "run",
"speed": 12.0
} ]

[sub_resource type="RectangleShape2D" id=24]
extents = Vector2( 9, 1 )

[node name="Player" type="KinematicBody2D"]
light_mask = 2
collision_layer = 256
collision_mask = 256
script = ExtResource( 1 )

[node name="IdleCollisionShape" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( -2, 3.5 )
shape = SubResource( 21 )

[node name="JumpCollisionShape" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( -0.5, 2.5 )
shape = SubResource( 22 )

[node name="RunCollisionShape" type="CollisionShape2D" parent="."]
visible = false
position = Vector2( 0, 3.5 )
shape = SubResource( 23 )

[node name="HUD" type="CanvasLayer" parent="."]
pause_mode = 2
script = ExtResource( 7 )

[node name="Frame" type="ColorRect" parent="HUD"]
margin_left = 1108.0
margin_top = 12.0
margin_right = 1268.0
margin_bottom = 172.0
color = Color( 0, 0, 0, 1 )

[node name="ColorRect" type="ColorRect" parent="HUD"]
margin_left = 1112.0
margin_top = 16.0
margin_right = 1264.0
margin_bottom = 168.0

[node name="ShaderTest" type="ColorRect" parent="HUD"]
material = SubResource( 28 )
margin_left = 536.0
margin_top = 296.0
margin_right = 688.0
margin_bottom = 448.0
color = Color( 1, 0, 0, 1 )

[node name="Control" type="Control" parent="HUD"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = SubResource( 26 )

[node name="PauseMenu" type="VBoxContainer" parent="HUD/Control"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -20.0
margin_top = -20.0
margin_right = 20.0
margin_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 8

[node name="Label" type="Label" parent="HUD/Control/PauseMenu"]
margin_right = 389.0
margin_bottom = 46.0
text = "PAUSADO"
align = 1

[node name="ResumeButton" type="Button" parent="HUD/Control/PauseMenu"]
margin_top = 54.0
margin_right = 389.0
margin_bottom = 106.0
text = "Continuar"

[node name="SettingsButton" type="Button" parent="HUD/Control/PauseMenu"]
margin_top = 114.0
margin_right = 389.0
margin_bottom = 166.0
text = "Configurações"

[node name="MenuButton" type="Button" parent="HUD/Control/PauseMenu"]
margin_top = 174.0
margin_right = 389.0
margin_bottom = 226.0
text = "Voltar ao menu principal"

[node name="CurrLevelLabel" type="Label" parent="HUD/Control"]
margin_left = 16.0
margin_top = 16.0
margin_right = 217.0
margin_bottom = 64.0
grow_vertical = 2
text = "Current level"
valign = 1

[node name="CurrColorLabel" type="Label" parent="HUD/Control"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = 472.0
margin_top = 168.0
margin_right = 624.0
margin_bottom = 214.0
grow_horizontal = 2
text = "COLOR"
align = 1

[node name="Label" type="Label" parent="."]
margin_left = -41.0
margin_top = -79.0
margin_right = 39.0
margin_bottom = -39.0
align = 1

[node name="AnimatedSprite" type="AnimatedSprite" parent="."]
material = ExtResource( 6 )
position = Vector2( 0, 1 )
frames = SubResource( 10 )
animation = "idle"
playing = true

[node name="Stomp" type="Area2D" parent="."]
collision_layer = 256
collision_mask = 256

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stomp"]
position = Vector2( -1, 32 )
shape = SubResource( 24 )

[node name="DeathZone" type="Area2D" parent="."]

[node name="IdleCollisionShape" type="CollisionShape2D" parent="DeathZone"]
visible = false
position = Vector2( -2, 3.5 )
shape = SubResource( 21 )

[node name="JumpCollisionShape" type="CollisionShape2D" parent="DeathZone"]
visible = false
position = Vector2( -0.5, 2.5 )
shape = SubResource( 22 )

[node name="RunCollisionShape" type="CollisionShape2D" parent="DeathZone"]
visible = false
position = Vector2( 0, 3.5 )
shape = SubResource( 23 )

[connection signal="button_down" from="HUD/Control/PauseMenu/ResumeButton" to="HUD" method="_on_ResumeButton_button_down"]
[connection signal="body_entered" from="Stomp" to="." method="_on_Stomp_body_entered"]
[connection signal="area_entered" from="DeathZone" to="." method="_on_DeathZone_area_entered"]
